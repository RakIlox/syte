<parameter name="content">/**
 * –ú–æ–¥—É–ª—å –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Ç–µ—Å—Ç–∞
 */

const testModal = {
    overlay: null,
    modal: null,
    currentChapter: null,
    questions: [],
    currentQuestion: 0,
    answers: [],
    
    // –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤
    testData: {
        chapter1: [
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ DDoS-–∞—Ç–∞–∫–∞?",
                options: [
                    "–í–∏—Ä—É—Å, –∫–æ—Ç–æ—Ä—ã–π –∫—Ä–∞–¥—ë—Ç –ø–∞—Ä–æ–ª–∏",
                    "–ú–∞—Å—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞–º–∏",
                    "–§–∞–ª—å—à–∏–≤—ã–π —Å–∞–π—Ç –¥–ª—è –∫—Ä–∞–∂–∏ –¥–∞–Ω–Ω—ã—Ö",
                    "–®–ø–∏–æ–Ω—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞"
                ],
                correct: 1,
                explanation: "DDoS (Distributed Denial of Service) ‚Äî —ç—Ç–æ –∞—Ç–∞–∫–∞, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –ø–µ—Ä–µ–≥—Ä—É–∂–∞—è –µ–≥–æ –∏ –¥–µ–ª–∞—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º."
            },
            {
                question: "–ö–∞–∫–æ–π –ø–∞—Ä–æ–ª—å —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–∞–¥—ë–∂–Ω—ã–º?",
                options: [
                    "123456",
                    "–í–∞—Å—è1990",
                    "P@ssw0rd!2024#",
                    "qwerty"
                ],
                correct: 2,
                explanation: "–ù–∞–¥—ë–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 12 —Å–∏–º–≤–æ–ª–æ–≤, –≤–∫–ª—é—á–∞—Ç—å –±—É–∫–≤—ã —Ä–∞–∑–Ω–æ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞, —Ü–∏—Ñ—Ä—ã –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã."
            },
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ–∏—à–∏–Ω–≥?",
                options: [
                    "–õ–æ–≤–ª—è —Ä—ã–±—ã –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ",
                    "–ú–µ—Ç–æ–¥ –∫—Ä–∞–∂–∏ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –ø–æ–¥–¥–µ–ª—å–Ω—ã–µ —Å–∞–π—Ç—ã",
                    "–í–∏—Ä—É—Å –¥–ª—è –∫—Ä–∞–∂–∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã",
                    "–ê—Ç–∞–∫–∞ –Ω–∞ Wi-Fi —Å–µ—Ç—å"
                ],
                correct: 1,
                explanation: "–§–∏—à–∏–Ω–≥ ‚Äî —ç—Ç–æ –º–µ—Ç–æ–¥ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ —Å–æ–∑–¥–∞—é—Ç –ø–æ–¥–¥–µ–ª—å–Ω—ã–µ —Å–∞–π—Ç—ã –∏–ª–∏ –ø–∏—Å—å–º–∞, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."
            },
            {
                question: "–ó–∞—á–µ–º –Ω—É–∂–µ–Ω VPN?",
                options: [
                    "–î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞",
                    "–î–ª—è –∑–∞—â–∏—Ç—ã –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è",
                    "–î–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤",
                    "–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π"
                ],
                correct: 1,
                explanation: "VPN —Å–æ–∑–¥–∞—ë—Ç –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç—É–Ω–Ω–µ–ª—å –º–µ–∂–¥—É –≤–∞—à–∏–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º, –∑–∞—â–∏—â–∞—è –¥–∞–Ω–Ω—ã–µ –æ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞."
            },
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ 2FA?",
                options: [
                    "–î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è",
                    "–î–≤–æ–π–Ω–æ–π —Ñ–∞–π–ª –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏",
                    "–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π —Ñ–∞–π—Ä–≤–æ–ª",
                    "–î–µ—Ç–µ–∫—Ü–∏—è —Ñ–∏—à–∏–Ω–≥–∞"
                ],
                correct: 0,
                explanation: "2FA (Two-Factor Authentication) ‚Äî —ç—Ç–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∑–∞—â–∏—Ç—ã, –∫–æ–≥–¥–∞ –¥–ª—è –≤—Ö–æ–¥–∞ –Ω—É–∂–Ω–æ –¥–≤–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è: –ø–∞—Ä–æ–ª—å –∏ –∫–æ–¥ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ SMS."
            }
        ],
        chapter2: [
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è –∏–Ω–∂–µ–Ω–µ—Ä–∏—è?",
                options: [
                    "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π",
                    "–ú–µ—Ç–æ–¥ –≤–∑–ª–æ–º–∞ —á–µ—Ä–µ–∑ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—é –ª—é–¥—å–º–∏",
                    "–ó–∞—â–∏—Ç–∞ –æ—Ç —Ö–∞–∫–µ—Ä–æ–≤",
                    "–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π"
                ],
                correct: 1,
                explanation: "–°–æ—Ü–∏–∞–ª—å–Ω–∞—è –∏–Ω–∂–µ–Ω–µ—Ä–∏—è ‚Äî —ç—Ç–æ –º–µ—Ç–æ–¥—ã –æ–±–º–∞–Ω–∞ –ª—é–¥–µ–π –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –ø–∞—Ä–æ–ª–µ–π –∏–ª–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∏—Å—Ç–µ–º–∞–º."
            },
            {
                question: "–ö–∞–∫–æ–π —Ç–∏–ø —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ HTTPS?",
                options: [
                    "–¢–æ–ª—å–∫–æ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–π",
                    "–¢–æ–ª—å–∫–æ –∞—Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–π",
                    "–ö–æ–º–±–∏–Ω–∞—Ü–∏—è –æ–±–æ–∏—Ö —Ç–∏–ø–æ–≤",
                    "–ë–µ–∑ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è"
                ],
                correct: 2,
                explanation: "HTTPS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞—Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –æ–±–º–µ–Ω–∞ –∫–ª—é—á–∞–º–∏, –∑–∞—Ç–µ–º —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö."
            },
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ –±—ç–∫–∞–ø?",
                options: [
                    "–í–∏—Ä—É—Å –≤ —Å–∏—Å—Ç–µ–º–µ",
                    "–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –¥–∞–Ω–Ω—ã—Ö",
                    "–ü–∞—Ä–æ–ª—å –æ—Ç —Å–∏—Å—Ç–µ–º—ã",
                    "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞"
                ],
                correct: 1,
                explanation: "–ë—ç–∫–∞–ø (backup) ‚Äî —ç—Ç–æ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –≤–∞–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ —Å–ª—É—á–∞–µ –ø–æ—Ç–µ—Ä–∏ –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è."
            },
            {
                question: "–ö–∞–∫—É—é —Å–µ—Ç—å Wi-Fi –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?",
                options: [
                    "–ü—É–±–ª–∏—á–Ω—É—é –±–µ–∑ –ø–∞—Ä–æ–ª—è",
                    "–ü—É–±–ª–∏—á–Ω—É—é —Å –ø–∞—Ä–æ–ª–µ–º",
                    "–°–≤–æ—é —Å VPN",
                    "–°–µ—Ç—å —Å–æ—Å–µ–¥–∞ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è"
                ],
                correct: 2,
                explanation: "–î–∞–∂–µ –≤ —Å–≤–æ–µ–π –¥–æ–º–∞—à–Ω–µ–π —Å–µ—Ç–∏ –∏–ª–∏ –ø—É–±–ª–∏—á–Ω–æ–π —Å VPN –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞—â–∏—â–µ–Ω—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º."
            },
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–µ –ü–û (malware)?",
                options: [
                    "–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –¥–ª—è –∑–∞—â–∏—Ç—ã",
                    "–ü—Ä–æ–≥—Ä–∞–º–º—ã, –ø—Ä–∏—á–∏–Ω—è—é—â–∏–µ –≤—Ä–µ–¥ —Å–∏—Å—Ç–µ–º–µ",
                    "–ü—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∫–æ–º–ø—å—é—Ç–µ—Ä–∞",
                    "–î—Ä–∞–π–≤–µ—Ä—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤"
                ],
                correct: 1,
                explanation: "Malware ‚Äî —ç—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ, —Å–æ–∑–¥–∞–Ω–Ω–æ–µ –¥–ª—è –Ω–∞–Ω–µ—Å–µ–Ω–∏—è –≤—Ä–µ–¥–∞, –∫—Ä–∞–∂–∏ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞."
            }
        ],
        chapter3: [
            {
                question: "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞ –¢–ò–ë?",
                options: [
                    "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",
                    "–¢–µ–æ—Ä–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏",
                    "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏",
                    "–¢–µ—Å—Ç –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—É—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å"
                ],
                correct: 1,
                explanation: "–¢–ò–ë —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ ¬´–¢–µ–æ—Ä–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏¬ª ‚Äî —ç—Ç–æ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞, –∏–∑—É—á–∞—é—â–∞—è –º–µ—Ç–æ–¥—ã –∑–∞—â–∏—Ç—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏."
            },
            {
                question: "–ö–∞–∫–∏–µ —Ç—Ä–∏ –±–∞–∑–æ–≤—ã—Ö —Å–≤–æ–π—Å—Ç–≤–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤—ã–¥–µ–ª—è—é—Ç –≤ –¢–ò–ë?",
                options: [
                    "–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å, —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å",
                    "–°–∫–æ—Ä–æ—Å—Ç—å, –æ–±—ä—ë–º, –∫–∞—á–µ—Å—Ç–≤–æ",
                    "–¶–µ–Ω–∞, –≤–∞–∂–Ω–æ—Å—Ç—å, —Ñ–æ—Ä–º–∞—Ç",
                    "–ò—Å—Ç–æ—á–Ω–∏–∫, –ø—Ä–∏—ë–º–Ω–∏–∫, –∫–∞–Ω–∞–ª"
                ],
                correct: 0,
                explanation: "CIA ‚Äî Confidentiality (–∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å), Integrity (—Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å), Availability (–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å) ‚Äî —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤–∞ –∑–∞—â–∏—â–∞–µ–º–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏."
            },
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ –º–æ–¥–µ–ª—å –ë–µ–ª–ª–∞-–õ–∞–ø–∞–¥—É–ª—ã?",
                options: [
                    "–ú–æ–¥–µ–ª—å –æ—Ü–µ–Ω–∫–∏ —Ä–∏—Å–∫–æ–≤",
                    "–ú–∞–Ω–¥–∞—Ç–Ω–∞—è –º–æ–¥–µ–ª—å –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞",
                    "–ú–æ–¥–µ–ª—å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö",
                    "–ú–æ–¥–µ–ª—å —Å–µ—Ç–µ–≤–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏"
                ],
                correct: 1,
                explanation: "–ú–æ–¥–µ–ª—å –ë–µ–ª–ª–∞-–õ–∞–ø–∞–¥—É–ª—ã ‚Äî —ç—Ç–æ –º–∞–Ω–¥–∞—Ç–Ω–∞—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è) –º–æ–¥–µ–ª—å –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ —É—Ä–æ–≤–Ω—è—Ö –¥–æ–ø—É—Å–∫–∞ –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏."
            },
            {
                question: "–ö–∞–∫–æ–π –ø—Ä–∏–Ω—Ü–∏–ø –ª–µ–∂–∏—Ç –≤ –æ—Å–Ω–æ–≤–µ –¥–∏—Å–∫—Ä–µ—Ü–∏–æ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏?",
                options: [
                    "–ü—Ä–∞–≤–æ –¥–æ—Å—Ç—É–ø–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º",
                    "–ü—Ä–∞–≤–æ –¥–æ—Å—Ç—É–ø–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —Ä–µ—Å—É—Ä—Å–∞",
                    "–î–æ—Å—Ç—É–ø –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏",
                    "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω –≤—Å–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"
                ],
                correct: 1,
                explanation: "–í –¥–∏—Å–∫—Ä–µ—Ü–∏–æ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ (HRU) –ø—Ä–∞–≤–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –µ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü—É."
            },
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ —É–≥—Ä–æ–∑–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏?",
                options: [
                    "–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞—â–∏—Ç—ã",
                    "–í–æ–∑–º–æ–∂–Ω—ã–π —É—â–µ—Ä–± –æ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏",
                    "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏",
                    "–ü–æ–ª–∏—Ç–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏"
                ],
                correct: 1,
                explanation: "–£–≥—Ä–æ–∑–∞ ‚Äî —ç—Ç–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–≥–æ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–ª–∏ —Å–∏—Å—Ç–µ–º—É."
            }
        ]
    },
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    init: function() {
        this.createModal();
    },
    
    // –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    createModal: function() {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ —Å–æ–∑–¥–∞–Ω –ª–∏ —É–∂–µ
        if (document.getElementById('test-modal-overlay')) {
            return;
        }
        
        const overlay = document.createElement('div');
        overlay.id = 'test-modal-overlay';
        overlay.className = 'test-modal-overlay';
        
        overlay.innerHTML = `
            <div class="test-modal" id="test-modal">
                <div class="test-modal-header">
                    <div class="test-modal-title-wrap">
                        <h3 id="test-modal-title">–¢–µ—Å—Ç</h3>
                        <p id="test-modal-subtitle">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è</p>
                    </div>
                    <button class="test-modal-close" onclick="testModal.close()">&times;</button>
                </div>
                <div class="test-progress" id="test-progress" style="display: none;">
                    <div class="test-progress-bar">
                        <div class="test-progress-fill" id="test-progress-fill"></div>
                    <span class="test-progress-text" id="test-progress-text">1/5</span>
                </div>
                <div class="test-content" id="test-content">
                    <!-- –í–æ–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–¥–µ—Å—å -->
                </div>
                <div class="test-footer" id="test-footer">
                    <button class="btn btn-secondary" onclick="testModal.close()">–ó–∞–∫—Ä—ã—Ç—å</button>
                    <button class="btn btn-primary" id="test-next-btn" onclick="testModal.nextQuestion()" disabled>–î–∞–ª–µ–µ</button>
                </div>
        `;
        
        document.body.appendChild(overlay);
        
        this.overlay = overlay;
        this.modal = document.getElementById('test-modal');
    },
    
    // –û—Ç–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞
    open: function(chapterId) {
        if (!this.testData[chapterId]) {
            alert('–¢–µ—Å—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω!');
            return;
        }
        
        this.currentChapter = chapterId;
        this.questions = [...this.testData[chapterId]];
        this.currentQuestion = 0;
        this.answers = new Array(this.questions.length).fill(null);
        
        this.showQuestion();
        this.overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
    },
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞
    close: function() {
        this.overlay.classList.remove('active');
        document.body.style.overflow = '';
        this.currentChapter = null;
    },
    
    // –ü–æ–∫–∞–∑–∞—Ç—å –≤–æ–ø—Ä–æ—Å
    showQuestion: function() {
        const question = this.questions[this.currentQuestion];
        const total = this.questions.length;
        const progress = Math.round(((this.currentQuestion) / total) * 100);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
        const progressEl = document.getElementById('test-progress');
        const progressFill = document.getElementById('test-progress-fill');
        const progressText = document.getElementById('test-progress-text');
        
        if (this.currentQuestion < total) {
            progressEl.style.display = 'flex';
            progressFill.style.width = progress + '%';
            progressText.textContent = `${this.currentQuestion + 1}/${total}`;
        } else {
            progressEl.style.display = 'none';
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
        const titles = {
            chapter1: '–¢–µ—Å—Ç: –û—Å–Ω–æ–≤—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏',
            chapter2: '–¢–µ—Å—Ç: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –∑–∞—â–∏—Ç–∞',
            chapter3: '–¢–µ—Å—Ç: –¢–µ–æ—Ä–∏—è –ò–ë'
        };
        document.getElementById('test-modal-title').textContent = titles[this.currentChapter] || '–¢–µ—Å—Ç';
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–æ–ø—Ä–æ—Å –∏–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        if (this.currentQuestion >= total) {
            this.showResults();
            return;
        }
        
        const content = document.getElementById('test-content');
        content.innerHTML = `
            <div class="test-question">
                <h4>${this.currentQuestion + 1}. ${question.question}</h4>
                <div class="test-options">
                    ${question.options.map((opt, idx) => `
                        <div class="test-option ${this.answers[this.currentQuestion] === idx ? 'selected' : ''}" 
                             onclick="testModal.selectOption(${idx})">
                            <span class="option-indicator"></span>
                            <span class="option-text">${opt}</span>
                        </div>
                    `).join('')}
                </div>
        `;
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É
        const nextBtn = document.getElementById('test-next-btn');
        nextBtn.textContent = this.currentQuestion === total - 1 ? '–ó–∞–≤–µ—Ä—à–∏—Ç—å' : '–î–∞–ª–µ–µ';
        nextBtn.disabled = this.answers[this.currentQuestion] === null;
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –∑–∞–∫—Ä—ã—Ç–∏—è
        const footer = document.getElementById('test-footer');
        footer.innerHTML = `
            <button class="btn btn-secondary" onclick="testModal.close()">–ó–∞–∫—Ä—ã—Ç—å</button>
            <button class="btn btn-primary" id="test-next-btn" onclick="testModal.nextQuestion()" ${this.answers[this.currentQuestion] === null ? 'disabled' : ''}>
                ${this.currentQuestion === total - 1 ? '–ó–∞–≤–µ—Ä—à–∏—Ç—å' : '–î–∞–ª–µ–µ'}
            </button>
        `;
    },
    
    // –í—ã–±–æ—Ä –æ—Ç–≤–µ—Ç–∞
    selectOption: function(idx) {
        this.answers[this.currentQuestion] = idx;
        this.showQuestion();
    },
    
    // –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
    nextQuestion: function() {
        if (this.currentQuestion < this.questions.length - 1) {
            this.currentQuestion++;
            this.showQuestion();
        } else {
            this.finishTest();
        }
    },
    
    // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞
    finishTest: function() {
        const total = this.questions.length;
        let correct = 0;
        
        this.answers.forEach((answer, idx) => {
            if (answer === this.questions[idx].correct) {
                correct++;
            }
        });
        
        this.showResults(correct, total);
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        progressManager.markTestPassed(this.currentChapter);
    },
    
    // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    showResults: function(correct, total) {
        const progressEl = document.getElementById('test-progress');
        progressEl.style.display = 'none';
        
        const content = document.getElementById('test-content');
        const footer = document.getElementById('test-footer');
        
        if (correct === undefined) {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–∞–∑–±–æ—Ä –æ—Ç–≤–µ—Ç–æ–≤
            let detailsHTML = `
                <div class="test-results">
                    <div class="test-results-icon">üìä</div>
                    <h3>–†–∞–∑–±–æ—Ä –æ—Ç–≤–µ—Ç–æ–≤</h3>
                </div>
                <div class="answer-details">
                    <h4>–í–∞—à–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:</h4>
            `;
            
            this.answers.forEach((answer, idx) => {
                const question = this.questions[idx];
                const isCorrect = answer === question.correct;
                
                detailsHTML += `
                    <div class="answer-detail ${isCorrect ? 'correct' : 'incorrect'}">
                        <div class="answer-header">
                            <span class="answer-number">${idx + 1}</span>
                            <span class="answer-status">${isCorrect ? '‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ' : '‚úó –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ'}</span>
                        </div>
                        <div class="answer-question">${question.question}</div>
                        <div class="answer-your">–í–∞—à –æ—Ç–≤–µ—Ç: <span>${question.options[answer]}</span></div>
                        ${!isCorrect ? `<div class="answer-correct">–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${question.options[question.correct]}</div>` : ''}
                        <div class="answer-explanation">
                            <i class="fas fa-lightbulb"></i> ${question.explanation}
                        </div>
                `;
            });
            
            detailsHTML += '</div>';
            content.innerHTML = detailsHTML;
            
            footer.innerHTML = `
                <button class="btn btn-secondary" onclick="testModal.close()">–ó–∞–∫—Ä—ã—Ç—å</button>
                <button class="btn btn-primary" onclick="testModal.retry()">–ü—Ä–æ–π—Ç–∏ —Å–Ω–æ–≤–∞</button>
            `;
        } else {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏—Ç–æ–≥–∏
            const percent = Math.round((correct / total) * 100);
            let icon = percent >= 80 ? 'üèÜ' : percent >= 60 ? 'üëç' : 'üìö';
            let message = percent >= 80 ? '–û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!' : percent >= 60 ? '–•–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!' : '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑!';
            
            content.innerHTML = `
                <div class="test-results">
                    <div class="test-results-icon">${icon}</div>
                    <h3>${message}</h3>
                    <div class="test-score">
                        <span class="test-score-value">${correct}</span>
                        <span class="test-score-max">/${total}</span>
                    </div>
                    <p>–í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞ ${correct} –∏–∑ ${total} –≤–æ–ø—Ä–æ—Å–æ–≤ (${percent}%)</p>
                    <button class="btn btn-secondary" onclick="testModal.showReview()" style="margin-top: 10px;">
                        <i class="fas fa-list"></i> –†–∞–∑–±–æ—Ä –æ—Ç–≤–µ—Ç–æ–≤
                    </button>
                </div>
            `;
            
            footer.innerHTML = `
                <button class="btn btn-secondary" onclick="testModal.close()">–ó–∞–∫—Ä—ã—Ç—å</button>
                <button class="btn btn-primary" onclick="testModal.retry()">–ü—Ä–æ–π—Ç–∏ —Å–Ω–æ–≤–∞</button>
            `;
        }
    },
    
    // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞–∑–±–æ—Ä
    showReview: function() {
        this.showResults();
    },
    
    // –ü—Ä–æ–π—Ç–∏ —Å–Ω–æ–≤–∞
    retry: function() {
        this.currentQuestion = 0;
        this.answers = new Array(this.questions.length).fill(null);
        this.showQuestion();
    }
};

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
document.addEventListener('DOMContentLoaded', function() {
    testModal.init();
});
</parameter>
