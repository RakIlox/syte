# Модели контроля целостности

## Простыми словами

Модели целостности защищают данные от изменения "не тем, не в том месте, не тогда". Как санитарный контроль в больнице — проверяем, чтобы всё было чисто и правильно.

## Зачем нужна целостность?

Целостность — это когда данные верны и не были изменены без разрешения.

**Примеры нарушения целостности:**

| Проблема | Что случилось |
|----------|---------------|
| Данные изменены | Кто-то подправил документ |
| Данные удалены |important.txt исчез |
| Данные созданы | Появились фальшивые записи |
| Порядок нарушен | Записи перепутаны |

## Модель Биба (Biba)

### Что это такое?

Модель Биба — это мандатная модель контроля целостности. Она "зеркало" модели Белла-Лападулы, но для целостности.

### Уровни целостности

| Уровень | Описание |
|---------|----------|
| Very High (Очень высокий) | Критически важные данные |
| High (Высокий) | Важные данные |
| Medium (Средний) | Стандартные данные |
| Low (Низкий) | Не критичные данные |
| Very Low (Очень низкий) | Тестовые данные |

### Правила модели Биба

**Простое свойство целостности (simple integrity):**

Субъект может **читать** объект только если:

```
Целостность_субъекта ≤ Целостность_объекта
```

**Пример:**

| Субъект | Уровень | Объект | Уровень | Чтение? |
|---------|---------|--------|---------|---------|
| Тест-программа | Low | База данных | High | ✅ Да |
| База данных | High | Тест-файл | Low | ❌ Нет |

***-свойство целостности (*-integrity):**

Субъект может **записывать** объект только если:

```
Целостность_субъекта ≥ Целостность_объекта
```

**Пример:**

| Субъект | Уровень | Объект | Уровень | Запись? |
|---------|---------|--------|---------|---------|
| База данных | High | Тест-файл | Low | ✅ Да |
| Тест-программа | Low | База данных | High | ❌ Нет |

## Модель Кларка-Вильсона (Clark-Wilson)

### Что это такое?

Модель Кларка-Вильсона ориентирована на бизнес-процессы и транзакции. Используется в коммерческих системах.

### Основные концепции

**Well-Formed Transactions**

Правильно сформированные транзакции, которые сохраняют целостность данных.

**Separation of Duties**

Разделение обязанностей — один человек не может выполнить всю операцию.

### Компоненты модели

| Компонент | Описание | Пример |
|-----------|----------|--------|
| CDI | Данные критической целостности | Баланс счёта |
| UDI | Данные некритической целостности | История операций |
| IVP | Процедуры проверки целостности | Проверка баланса |
| TP | Процедуры трансформации | Перевод денег |

### Правила модели

**Правило 1:**

IVP должны подтверждать целостность всех CDI.

**Правило 2:**

Только TP могут изменять CDI.

**Правило 3:**

TP должны поддерживать separation of duties.

**Правило 4:**

Все транзакции должны быть записаны в журнал.

## Сравнение моделей целостности

| Критерий | Биба | Кларк-Вильсон |
|----------|------|---------------|
| Тип | Мандатная | Процедурная |
| Применение | Военные системы | Бизнес-системы |
| Фокус | Уровни целостности | Транзакции |
| Гибкость | Низкая | Высокая |
| Сложность | Средняя | Высокая |

## Практическое применение

### Где используется Биба

- Системы с классификацией данных
- Военные приложения
- Системы с высокими требованиями к целостности

### Где используется Кларк-Вильсон

- Финансовые системы
- Системы учёта
- ERP-системы
- Базы данных

### Пример: Банковская система

**Правила транзакции:**

1. Проверка баланса (IVP)
2. Списание суммы (TP1)
3. Зачисление получателю (TP2)
4. Запись в журнал
5. Проверка результата (IVP)

**Separation of Duties:**

| Роль | Может |
|------|-------|
| Кассир | Инициировать перевод |
| Система | Выполнить перевод |
| Аудитор | Проверить журнал |

## Итог

Модели целостности защищают данные от несанкционированных изменений:

1. **Биба** — для военных и секретных систем
2. **Кларк-Вильсон** — для бизнес-процессов
3. Проверяйте целостность регулярно
4. Разделяйте обязанности

